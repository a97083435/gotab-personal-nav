import{c as e,ao as t,j as s,r as n,B as r,ab as i,O as a,a0 as l,E as o,aA as c,N as d,ap as m,e as p,C as h,D as f,H as j,an as u}from"./main-Bo2fjBi0.js";import{M as x,R as y}from"./myTable-VeFSlHOA.js";import{C as k}from"./contentLayout-B4GdiHKg.js";import{R as g}from"./ReloadOutlined-EYMXbig6.js";import"./transformData-BHPmoXBW.js";import"./MoneyCollectOutlined-CiLMzwXP.js";import"./AlipayOutlined-BdhF7bUL.js";import"./index-DvU2YQOQ.js";function b(){const n=e.c(21),{key:c,refresh:d}=t();let m,p,h,f,j,u,y,b;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={title:"应用标题",key:"title",width:160},p={title:"应用描述",key:"description",width:460},h={title:"图标",key:"icon",width:100,render:S},f={title:"链接",key:"link",width:120,render:C},j={title:"标签",width:120,render:_},u={title:"提交人",key:"username",width:160,render:w},y={type:"time",title:"提交时间",key:"createdTime",width:200},n[0]=m,n[1]=p,n[2]=h,n[3]=f,n[4]=j,n[5]=u,n[6]=y):(m=n[0],p=n[1],h=n[2],f=n[3],j=n[4],u=n[5],y=n[6]),n[7]!==d?(b=[m,p,h,f,j,u,y,{title:"操作",fixed:"right",width:180,render:(e,t)=>s.jsx(A,{record:t,refresh:d})}],n[7]=d,n[8]=b):b=n[8];const N=b;let R,v,T,z,O,L,B;return n[9]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(g,{}),n[9]=R):R=n[9],n[10]!==d?(v=s.jsx(r,{type:"primary",icon:R,onClick:()=>{d()},children:"刷新列表"}),n[10]=d,n[11]=v):v=n[11],n[12]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(i,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(a,{className:"mr-1"}),"应用推荐将展示在 “ 每日宝藏 ” 中，服务端设置了 5 分钟缓存，如需查看最新的 “ 每日宝藏 ” 列表，请等待缓存失效或重启服务"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),z=s.jsx(l,{className:"my-3"}),n[12]=T,n[13]=z):(T=n[12],z=n[13]),n[14]===Symbol.for("react.memo_cache_sentinel")?(O={searchParams:{status:0}},n[14]=O):O=n[14],n[15]!==N||n[16]!==c?(L=s.jsx(x,{columns:N,getListUrl:o.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:c,params:O}),n[15]=N,n[16]=c,n[17]=L):L=n[17],n[18]!==L||n[19]!==v?(B=s.jsxs(k,{children:[v,T,z,L]}),n[18]=L,n[19]=v,n[20]=B):B=n[20],B}function w(e){return s.jsx(d,{color:e?"geekblue":"red",bordered:!1,icon:s.jsx(m,{}),children:e||"已注销"})}function _(e,t){return s.jsx(d,{color:t.tagColor,children:t.tagText||"-"})}function C(e){return s.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function S(e,t){return e?s.jsx(c,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"},fallback:"/icons/default_image.svg"}):"-"}const A=n.memo(t=>{const i=e.c(42),{record:a,refresh:l}=t;let c;i[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],i[0]=c):c=i[0];const[d,m]=n.useState(c);let x;i[1]!==a||i[2]!==l?(x=function(){const e=p.getState().user.token;h(0,m),setTimeout(()=>{f({url:o.approveRecommendApp,token:e,data:{id:a.id}}).then(e=>{200===e?.code&&l()}).finally(()=>{j(0,m)})},500)},i[1]=a,i[2]=l,i[3]=x):x=i[3];const k=x;let g;i[4]!==a||i[5]!==l?(g=function(e,t){h(t,m);const s=p.getState().user.token;setTimeout(()=>{f({url:"reject"===e?o.rejectRecommendApp:o.deleteRecommendApp,token:s,data:{id:a.id}}).then(e=>{200===e?.code&&l()}).finally(()=>{j(t,m)})},500)},i[4]=a,i[5]=l,i[6]=g):g=i[6];const b=g;let w,_,C,S,A;i[7]===Symbol.for("react.memo_cache_sentinel")?(w={width:"44px"},i[7]=w):w=i[7],i[8]!==d[0]?(_=d[0]?s.jsx(y,{}):"通过",i[8]=d[0],i[9]=_):_=i[9],i[10]!==d[0]||i[11]!==_?(C=s.jsx(r,{type:"link",size:"small",disabled:d[0],style:w,children:_}),i[10]=d[0],i[11]=_,i[12]=C):C=i[12],i[13]!==k||i[14]!==C?(S=s.jsx(u,{title:"是否确认审核通过？",onConfirm:k,children:C}),i[13]=k,i[14]=C,i[15]=S):S=i[15],i[16]!==b?(A=()=>{b("reject",1)},i[16]=b,i[17]=A):A=i[17];const N=d[1]||d[2];let R,v,T,z,O;i[18]===Symbol.for("react.memo_cache_sentinel")?(R={width:"44px"},i[18]=R):R=i[18],i[19]!==d[1]?(v=d[1]?s.jsx(y,{}):"驳回",i[19]=d[1],i[20]=v):v=i[20],i[21]!==v||i[22]!==N?(T=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:N,style:R,children:v}),i[21]=v,i[22]=N,i[23]=T):T=i[23],i[24]!==T||i[25]!==A?(z=s.jsx(u,{title:"是否确认驳回申请",onConfirm:A,children:T}),i[24]=T,i[25]=A,i[26]=z):z=i[26],i[27]!==b?(O=()=>{b("delete",2)},i[27]=b,i[28]=O):O=i[28];const L=d[1]||d[2];let B,D,K,M,E;return i[29]===Symbol.for("react.memo_cache_sentinel")?(B={width:"44px"},i[29]=B):B=i[29],i[30]!==d[2]?(D=d[2]?s.jsx(y,{}):"删除",i[30]=d[2],i[31]=D):D=i[31],i[32]!==L||i[33]!==D?(K=s.jsx(r,{danger:!0,type:"link",size:"small",disabled:L,style:B,children:D}),i[32]=L,i[33]=D,i[34]=K):K=i[34],i[35]!==O||i[36]!==K?(M=s.jsx(u,{title:"是否确认删除该申请？",onConfirm:O,children:K}),i[35]=O,i[36]=K,i[37]=M):M=i[37],i[38]!==z||i[39]!==M||i[40]!==S?(E=s.jsxs("div",{className:"flex flex-wrap",children:[S,z,M]}),i[38]=z,i[39]=M,i[40]=S,i[41]=E):E=i[41],E});export{b as default};
